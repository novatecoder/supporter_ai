[pytest]
# 1. 기존에 사용하시던 커버리지 옵션
addopts = --cov=src --cov-report=xml --cov-report=term -s
# -s

# 2. 비동기 테스트를 위한 필수 설정 (가장 중요)
# 'auto' 모드는 async def로 정의된 테스트를 자동으로 찾아줍니다.
asyncio_mode = auto
# 최신 pytest-asyncio에서 발생하는 루프 스코프 경고를 해결합니다.
asyncio_default_fixture_loop_scope = function

# 3. 테스트 경로 및 파이썬 경로 설정
testpaths = tests
pythonpath = src

# 4. 디버깅을 위한 실시간 로그 출력 설정
# 테스트 실행 중 LLM 호출 로그나 SQL 로그를 즉시 확인하고 싶을 때 유용합니다.
# log_cli = true
# log_cli_level = INFO
# log_cli_format = %(asctime)s [%(levelname)8s] %(message)s (%(filename)s:%(lineno)s)
# log_cli_date_format = %Y-%m-%d %H:%M:%S